---
import Base from "../layouts/Base.astro";
import SocialList from "../components/SocialList.astro";
import { getAllPosts, sortMDByDate } from "@/utils";
import PostPreview from "@/components/blog/PostPreview";
import Experience from "@/components/Experience";
import Projects from "@/components/Projects";
const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);
---

<Base meta={{ title: "Home" }}>
  <section>
    <h1 class="title mb-6">üëãüèΩ Hello, Welcome to my Site!</h1>
    <p>
      I am a dedicated computer science student currently pursuing my academic
      journey at Simon Fraser University. My passion lies in leveraging
      technology to address tangible challenges in the world around us.
    </p>
    <br />

    <SocialList />

    <section aria-label="Blog post list" class="mt-16">
      <h2 class="title mb-4 text-xl">Posts</h2>
      <ul class="space-y-4 sm:space-y-2">
        {
          allPostsByDate.map((p) => (
            <li class="flex flex-col gap-x-2 sm:flex-row">
              <PostPreview post={p} />
            </li>
          ))
        }
      </ul>
      <span class="mt-4 block sm:text-end">
        <a
          class="sm:hover:text-accent"
          href="/posts"
          aria-label="View all posts"
        >
          View all ‚Üí
        </a>
      </span>
    </section>
    <Experience />
    <!-- <Projects /> -->
  </section>
</Base>